<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="robots" content="noindex, nofollow, noarchive" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>wxq/js/enums.js类名称错误，请检查。</title>
<style>
body{padding:0;margin:0;font-family:Arial, Helvetica, sans-serif;background:#EBF8FF;color:#5E5E5E;}
div, h1, h2, h3, h4, p, form, label, input, textarea, img, span{margin:0; padding:0;}
ul{margin:0; padding:0; list-style-type:none;font-size:0;line-height:0;}
#body{width:918px;margin:0 auto;}
#main{width:918px;margin:13px auto 0 auto;padding:0 0 35px 0;}
#contents{width:918px;float:left;margin:13px auto 0 auto;background:#FFF;padding:8px 0 0 9px;}
#contents h2{display:block;background:#CFF0F3;font:bold 20px;padding:12px 0 12px 30px;margin:0 10px 22px 1px;}
#contents ul{padding:0 0 0 18px;font-size:0;line-height:0;}
#contents ul li{display:block;padding:0;color:#8F8F8F;background-color:inherit;font:normal 14px Arial, Helvetica, sans-serif;margin:0;}
#contents ul li span{display:block;color:#408BAA;background-color:inherit;font:bold 14px Arial, Helvetica, sans-serif;padding:0 0 10px 0;margin:0;}
#oneborder{width:800px;font:normal 14px Arial, Helvetica, sans-serif;border:#EBF3F5 solid 4px;margin:0 30px 20px 30px;padding:10px 20px;line-height:23px;}
#oneborder span{padding:0;margin:0;}
#oneborder #current{background:#CFF0F3;}
</style>	
</head><body><div id="main"><div id="contents">
<h2>wxq/js/enums.js类名称错误，请检查。</h2>
<ul><li><span>/www/web/weixinqun_com/public_html/SpeedPHP/spFunctions.php on line 136 </span></li></ul>
<div id="oneborder">
131.&nbsp;<code><span style="color: #000000">
<span style="color: #0000BB">&nbsp;</span><span style="color: #007700">*&nbsp;@</span><span style="color: #0000BB">param&nbsp;sdir&nbsp;载入类定义文件的路径，可以是目录</span><span style="color: #007700">+</span><span style="color: #0000BB">文件名的方式，也可以单独是目录。sdir的值将传入import</span><span style="color: #007700">()</span><span style="color: #0000BB">进行载入<br /></span>
</span>
</code>132.&nbsp;<code><span style="color: #000000">
<span style="color: #0000BB">&nbsp;</span><span style="color: #007700">*&nbsp;@</span><span style="color: #0000BB">param&nbsp;force_inst&nbsp;是否强制重新实例化对象<br /></span>
</span>
</code>133.&nbsp;<code><span style="color: #000000">
<span style="color: #0000BB">&nbsp;</span><span style="color: #007700">*/<br /></span>
</span>
</code>134.&nbsp;<code><span style="color: #000000">
<span style="color: #0000BB"></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">spClass</span><span style="color: #007700">(</span><span style="color: #0000BB">$class_name</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$args&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$sdir&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$force_inst&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">FALSE</span><span style="color: #007700">){<br /></span>
</span>
</code>135.&nbsp;<code><span style="color: #000000">
<span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;检查类名称是否正确，以保证类定义文件载入的安全性<br /></span>
</span>
</code><div id='current'>136.&nbsp;<code><span style="color: #000000">
<span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if(</span><span style="color: #0000BB">preg_match</span><span style="color: #007700">(</span><span style="color: #DD0000">'/[^a-z0-9\-_.]/i'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$class_name</span><span style="color: #007700">))</span><span style="color: #0000BB">spError</span><span style="color: #007700">(</span><span style="color: #0000BB">$class_name</span><span style="color: #007700">.</span><span style="color: #DD0000">"类名称错误，请检查。"</span><span style="color: #007700">);<br /></span>
</span>
</code></div>137.&nbsp;<code><span style="color: #000000">
<span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;检查是否该类已经实例化，直接返回已实例对象，避免再次实例化<br /></span>
</span>
</code>138.&nbsp;<code><span style="color: #000000">
<span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if(</span><span style="color: #0000BB">TRUE&nbsp;</span><span style="color: #007700">!=&nbsp;</span><span style="color: #0000BB">$force_inst</span><span style="color: #007700">)if(isset(</span><span style="color: #0000BB">$GLOBALS</span><span style="color: #007700">[</span><span style="color: #DD0000">'G_SP'</span><span style="color: #007700">][</span><span style="color: #DD0000">"inst_class"</span><span style="color: #007700">][</span><span style="color: #0000BB">$class_name</span><span style="color: #007700">]))return&nbsp;</span><span style="color: #0000BB">$GLOBALS</span><span style="color: #007700">[</span><span style="color: #DD0000">'G_SP'</span><span style="color: #007700">][</span><span style="color: #DD0000">"inst_class"</span><span style="color: #007700">][</span><span style="color: #0000BB">$class_name</span><span style="color: #007700">];<br /></span>
</span>
</code>139.&nbsp;<code><span style="color: #000000">
<span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;如果$sdir不能读取，则测试是否仅路径<br /></span>
</span>
</code>140.&nbsp;<code><span style="color: #000000">
<span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if(</span><span style="color: #0000BB">null&nbsp;</span><span style="color: #007700">!=&nbsp;</span><span style="color: #0000BB">$sdir&nbsp;</span><span style="color: #007700">&amp;&amp;&nbsp;!</span><span style="color: #0000BB">import</span><span style="color: #007700">(</span><span style="color: #0000BB">$sdir</span><span style="color: #007700">)&nbsp;&amp;&amp;&nbsp;!</span><span style="color: #0000BB">import</span><span style="color: #007700">(</span><span style="color: #0000BB">$sdir</span><span style="color: #007700">.</span><span style="color: #DD0000">'/'</span><span style="color: #007700">.</span><span style="color: #0000BB">$class_name</span><span style="color: #007700">.</span><span style="color: #DD0000">'.php'</span><span style="color: #007700">))return&nbsp;</span><span style="color: #0000BB">FALSE</span><span style="color: #007700">;<br /></span>
</span>
</code>141.&nbsp;<code><span style="color: #000000">
<span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;<br /></span>
</span>
</code></div>
<ul><li><span>/www/web/weixinqun_com/public_html/SpeedPHP/spFunctions.php on line 14 </span></li></ul>
<div id="oneborder">
9.&nbsp;<code><span style="color: #000000">
<span style="color: #0000BB"></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">spRun</span><span style="color: #007700">(){<br /></span>
</span>
</code>10.&nbsp;<code><span style="color: #000000">
<span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">GLOBAL&nbsp;</span><span style="color: #0000BB">$__controller</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$__action</span><span style="color: #007700">;<br /></span>
</span>
</code>11.&nbsp;<code><span style="color: #000000">
<span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;对路由进行自动执行相关操作<br /></span>
</span>
</code>12.&nbsp;<code><span style="color: #000000">
<span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;spLaunch</span><span style="color: #007700">(</span><span style="color: #DD0000">"router_prefilter"</span><span style="color: #007700">);<br /></span>
</span>
</code>13.&nbsp;<code><span style="color: #000000">
<span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;对将要访问的控制器类进行实例化<br /></span>
</span>
</code><div id='current'>14.&nbsp;<code><span style="color: #000000">
<span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;$handle_controller&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">spClass</span><span style="color: #007700">(</span><span style="color: #0000BB">$__controller</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$GLOBALS</span><span style="color: #007700">[</span><span style="color: #DD0000">'G_SP'</span><span style="color: #007700">][</span><span style="color: #DD0000">"controller_path"</span><span style="color: #007700">].</span><span style="color: #DD0000">'/'</span><span style="color: #007700">.</span><span style="color: #0000BB">$__controller</span><span style="color: #007700">.</span><span style="color: #DD0000">".php"</span><span style="color: #007700">);<br /></span>
</span>
</code></div>15.&nbsp;<code><span style="color: #000000">
<span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;调用控制器出错将调用路由错误处理函数<br /></span>
</span>
</code>16.&nbsp;<code><span style="color: #000000">
<span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if(!</span><span style="color: #0000BB">is_object</span><span style="color: #007700">(</span><span style="color: #0000BB">$handle_controller</span><span style="color: #007700">)&nbsp;||&nbsp;!</span><span style="color: #0000BB">method_exists</span><span style="color: #007700">(</span><span style="color: #0000BB">$handle_controller</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$__action</span><span style="color: #007700">)){<br /></span>
</span>
</code>17.&nbsp;<code><span style="color: #000000">
<span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">eval(</span><span style="color: #0000BB">$GLOBALS</span><span style="color: #007700">[</span><span style="color: #DD0000">'G_SP'</span><span style="color: #007700">][</span><span style="color: #DD0000">"dispatcher_error"</span><span style="color: #007700">]);<br /></span>
</span>
</code>18.&nbsp;<code><span style="color: #000000">
<span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">exit;<br /></span>
</span>
</code>19.&nbsp;<code><span style="color: #000000">
<span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /></span>
</span>
</code></div>
<ul><li><span>/www/web/weixinqun_com/public_html/index.php on line 16 </span></li></ul>
<div id="oneborder">
11.&nbsp;<code><span style="color: #000000">
<span style="color: #0000BB"></span><span style="color: #FF8000">//&nbsp;当前模块附加的配置<br /></span>
</span>
</code>12.&nbsp;<code><span style="color: #000000">
<span style="color: #0000BB">$spConfig</span><span style="color: #007700">[</span><span style="color: #DD0000">'controller_path'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">APP_PATH&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">'/modules'</span><span style="color: #007700">;<br /></span>
</span>
</code>13.&nbsp;<code><span style="color: #000000">
<span style="color: #0000BB"></span><span style="color: #007700">require&nbsp;(</span><span style="color: #0000BB">SP_PATH&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"/SpeedPHP.php"</span><span style="color: #007700">);<br /></span>
</span>
</code>14.&nbsp;<code><span style="color: #000000">
<span style="color: #0000BB"></span><span style="color: #FF8000">//&nbsp;载入用户自定义的函数文件<br /></span>
</span>
</code>15.&nbsp;<code><span style="color: #000000">
<span style="color: #0000BB">import</span><span style="color: #007700">(</span><span style="color: #0000BB">APP_PATH</span><span style="color: #007700">.</span><span style="color: #DD0000">'/include/functions.php'</span><span style="color: #007700">);<br /></span>
</span>
</code><div id='current'>16.&nbsp;<code><span style="color: #000000">
<span style="color: #0000BB">spRun</span><span style="color: #007700">();</span>
</span>
</code></div></div>
</div></div><div style="clear:both;"></body></html>
